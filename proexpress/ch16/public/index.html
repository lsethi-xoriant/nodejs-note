<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<div style="background:red;height:100px;width:100px;position:absolute;">
</div>
<script src="./jquery.js"></script>
<script src="/socket.io/socket.io.js"></script>


<script>
    $(document).ready(function () {
        var socket = io.connect('http://localhost:3000');
        var val = {
            left: 0,
            top: 0
        };
        var unit = 50;
        socket.on('receive', function (message) {

            switch (message) {
                case 1:
                    val.left = (val.left <= 0 ? 0 : val.left - unit);
                    $('div').animate({left: (val.left) + 'px'});
                    break;
                case 2:
                    val.left += unit;
                    $('div').animate({left: (val.left) + 'px'});
                    break;
                case 3:
                    val.top = (val.top <= 0 ? 0 : val.top - unit);
                    $('div').animate({top: (val.top) + 'px'});
                    break;
                case 4:
                    val.top += unit;
                    $('div').animate({top: (val.top) + 'px'});
                    break;
            }

        });
    });
</script>
</body>
</html>